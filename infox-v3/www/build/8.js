webpackJsonp([8],{264:function(l,n,u){"use strict";function t(l){return c._22(0,[(l()(),c.Z(0,0,null,null,3,"div",[["class","progress-outer"]],null,null,null,null,null)),(l()(),c._20(-1,null,["\n  "])),(l()(),c.Z(2,0,null,null,0,"div",[["class","progress-inner"]],[[4,"width",null]],null,null,null,null)),(l()(),c._20(-1,null,["\n"]))],null,function(l,n){l(n,2,0,n.component.progress+"%")})}function e(l){return c._22(0,[(l()(),c.Z(0,0,null,null,3,"progress-bar",[["class","progress"]],null,null,null,t,j)),c.Y(1,278528,null,0,x.h,[c.p,c.q,c.j,c.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),c._14(2,{"animate-fade":0,fadeOutProgress:1}),c.Y(3,49152,null,0,f,[],{progress:[0,"progress"]},null)],function(l,n){var u=n.component;l(n,1,0,"progress",l(n,2,0,u.hasResults&&u.doneRecording,u.hideProgress));l(n,3,0,u.timer)},null)}function s(l){return c._22(0,[(l()(),c.Z(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),c._20(-1,null,["Presiona el microfono para empezar"]))],null,null)}function i(l){return c._22(0,[(l()(),c.Z(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),c._20(-1,null,["Escuchando..."]))],null,null)}function a(l){return c._22(0,[(l()(),c.Z(0,0,null,null,1,"ion-icon",[["class","record-mic"],["name","md-mic"],["role","img"]],[[2,"hide",null]],null,null,null,null)),c.Y(1,147456,null,0,z.a,[S.a,c.j,c.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"md-mic")},function(l,n){l(n,0,0,c._11(n,1)._hidden)})}function o(l){return c._22(0,[(l()(),c.Z(0,0,null,null,1,"ion-icon",[["class","record-stop"],["name","md-square"],["role","img"]],[[2,"hide",null]],null,null,null,null)),c.Y(1,147456,null,0,z.a,[S.a,c.j,c.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"md-square")},function(l,n){l(n,0,0,c._11(n,1)._hidden)})}function r(l){return c._22(0,[(l()(),c.Z(0,0,null,null,53,"ion-content",[["class","main-view"],["no-bounce",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,A.b,A.a)),c.Y(1,4374528,null,0,F.a,[S.a,q.a,M.a,c.j,c.z,N.a,U.a,c.u,[2,V.a],[2,X.a]],null,null),(l()(),c._20(-1,1,["\n    "])),(l()(),c.Z(3,0,null,1,0,"div",[["class","overlay"]],null,null,null,null,null)),(l()(),c._20(-1,1,["\n    "])),(l()(),c.Z(5,0,null,1,47,"div",[["class","modal_content"]],null,null,null,null,null)),(l()(),c._20(-1,null,["\n        "])),(l()(),c.U(16777216,null,null,1,null,e)),c.Y(8,16384,null,0,x.j,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(l()(),c._20(-1,null,["\n\n        "])),(l()(),c.Z(10,0,null,null,13,"div",[["class","speechTitle"]],null,null,null,null,null)),(l()(),c._20(-1,null,["\n            "])),(l()(),c.Z(12,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),c._20(-1,null,["Busca negocios"])),(l()(),c._20(-1,null,["\n            "])),(l()(),c.Z(15,0,null,null,7,"div",[["class","subtitle"]],null,null,null,null,null)),(l()(),c._20(-1,null,["\n                "])),(l()(),c.U(16777216,null,null,1,null,s)),c.Y(18,16384,null,0,x.j,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(l()(),c._20(-1,null,["\n                "])),(l()(),c.U(16777216,null,null,1,null,i)),c.Y(21,16384,null,0,x.j,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(l()(),c._20(-1,null,["\n            "])),(l()(),c._20(-1,null,["\n        "])),(l()(),c._20(-1,null,["\n\n        "])),(l()(),c.Z(25,0,null,null,12,"div",[["class","mic"]],null,[[null,"tap"]],function(l,n,u){var t=!0,e=l.component;if("tap"===n){t=!1!==(e.isRecording?e.stopListening():e.startListening())&&t}return t},null,null)),(l()(),c._20(-1,null,["\n            "])),(l()(),c.Z(27,0,null,null,9,"span",[["class","mic-button"]],null,null,null,null,null)),(l()(),c._20(-1,null,["\n                "])),(l()(),c.Z(29,0,null,null,0,"div",[["class","ring"]],[[2,"ringAnimation",null]],null,null,null,null)),(l()(),c._20(-1,null,["\n                "])),(l()(),c.U(16777216,null,null,1,null,a)),c.Y(32,16384,null,0,x.j,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(l()(),c._20(-1,null,["\n                "])),(l()(),c.U(16777216,null,null,1,null,o)),c.Y(35,16384,null,0,x.j,[c.I,c.F],{ngIf:[0,"ngIf"]},null),(l()(),c._20(-1,null,["\n            "])),(l()(),c._20(-1,null,["\n        "])),(l()(),c._20(-1,null,["\n        "])),(l()(),c.Z(39,0,null,null,1,"div",[["class","transcript-text"],["text-center",""],["text-wrap",""]],null,null,null,null,null)),(l()(),c._20(40,null,[" "," "])),(l()(),c._20(-1,null,["\n\n        "])),(l()(),c.Z(42,0,null,null,9,"div",[["class","buttonGroupSpeech"]],null,null,null,null,null)),(l()(),c._20(-1,null,["\n            "])),(l()(),c.Z(44,0,null,null,2,"button",[["block",""],["class","cancelButton"],["clear",""],["color","primary"],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.cancel()&&t}return t},B.b,B.a)),c.Y(45,1097728,null,0,T.a,[[8,""],S.a,c.j,c.z],{color:[0,"color"],clear:[1,"clear"],block:[2,"block"]},null),(l()(),c._20(-1,0,["Cancelar"])),(l()(),c._20(-1,null,["\n            "])),(l()(),c.Z(48,0,null,null,2,"button",[["block",""],["clear",""],["color","primary"],["ion-button",""]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var t=!0,e=l.component;if("click"===n){t=!1!==(e.hasResults?e.searchPlace():"")&&t}return t},B.b,B.a)),c.Y(49,1097728,null,0,T.a,[[8,""],S.a,c.j,c.z],{color:[0,"color"],clear:[1,"clear"],block:[2,"block"]},null),(l()(),c._20(-1,0,["Buscar"])),(l()(),c._20(-1,null,["\n        "])),(l()(),c._20(-1,null,["\n    "])),(l()(),c._20(-1,1,["\n"])),(l()(),c._20(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,8,0,0!==u.timer);l(n,18,0,u.doneRecording);l(n,21,0,u.isRecording);l(n,32,0,!u.isRecording);l(n,35,0,u.isRecording);l(n,45,0,"primary","","");l(n,49,0,"primary","","")},function(l,n){var u=n.component;l(n,0,0,c._11(n,1).statusbarPadding,c._11(n,1)._hasRefresher);l(n,29,0,u.isRecording);l(n,40,0,u.match);l(n,48,0,!u.doneRecording&&!u.hasResults||!u.hasResults)})}Object.defineProperty(n,"__esModule",{value:!0});var c=u(0),h=(u(2),u(55),u(155)),d=u(57),g=u(88),m=u(90),p=u(36),_=function(){function l(l,n,u,t,e,s,i,a,o,r){this.navCtrl=l,this.diagnostic=n,this.navParams=u,this.viewCtrl=t,this.app=e,this.speechRecognition=s,this.globalVariables=i,this.platform=a,this.general=o,this.cd=r,this.match="",this.isRecording=!1,this.doneRecording=!0,this.hasResults=!1,this.hideProgress=!1,this.samePageSearch=!1,this.timer=0,this.match=""}return l.prototype.ionViewDidLoad=function(){this.getPermission(),this.samePageSearch=this.navParams.get("samePageSearch")||!1,this.isAndroid=this.platform.is("android")||!1,this.match=null},l.prototype.stopListening=function(){var l=this;this.speechRecognition.stopListening().then(function(){l.isRecording=!1,l.doneRecording=!0,clearInterval(l.interval),l.timer=0,l.cd.detectChanges()})},l.prototype.getPermission=function(){var l=this;this.speechRecognition.hasPermission().then(function(n){n?l.startListening():(l.speechRecognition.requestPermission(),l.diagnostic.requestMicrophoneAuthorization())})},l.prototype.startListening=function(){var l=this;if(!this.globalVariables.isConnected)return this.general.showNetworkConnectionAlert(),void this.cancel();this.isRecording=!0,this.doneRecording=!1,this.hideProgress=!1,this.hasResults=!1;var n=!1;this.timer=0,clearInterval(this.interval),this.interval=null,this.cd.detectChanges(),this.speechRecognition.startListening({language:"es-MX",showPopup:!1,showPartial:!0}).subscribe(function(u){u.length>0&&(console.log("matches.length  "+u.length),l.match=u[0],console.log("this.match "+l.match),l.hasResults=u.length>0,n=l.hasResults,l.hasResults&&n&&(l.timer=0,l.interval=setInterval(function(){n&&l.isRecording&&l.interval&&l.timer++,100===l.timer&&(l.hideProgress=!0,u[0]&&"No hemos detectado resultados"!==l.match&&(clearInterval(l.interval),l.searchPlace(),n=!1)),l.cd.detectChanges()},50)),l.cd.detectChanges())},function(n){console.log(n),l.match||(l.match="No hemos detectado resultados"),l.hasResults=!1,l.cd.detectChanges()}),setTimeout(function(){l.isRecording&&!l.hasResults&&l.stopListening()},8e3)},l.prototype.cancel=function(){this.timer=0,this.match="",this.stopListening(),this.viewCtrl.dismiss()},l.prototype.searchPlace=function(){var l=this;if(this.match){this.timer=0;var n=this.general.removeAccents(this.match);this.stopListening(),this.samePageSearch?this.viewCtrl.dismiss(n):(this.viewCtrl.dismiss(),setTimeout(function(){l.app.getRootNav().setRoot(g.a,{search:n,tabIndex:2})},400))}},l}(),f=function(){return function(){}}(),v=function(){return function(){}}(),b=function(){return function(){}}(),R=u(208),P=u(209),Z=u(210),I=u(211),C=u(212),y=u(213),k=u(214),Y=u(215),w=u(216),j=c.X({encapsulation:2,styles:[],data:{}}),L=c.V("progress-bar",f,function(l){return c._22(0,[(l()(),c.Z(0,0,null,null,1,"progress-bar",[],null,null,null,t,j)),c.Y(1,49152,null,0,f,[],null,null)],null,null)},{progress:"progress"},{},[]),x=u(13),z=u(35),S=u(1),A=u(267),F=u(23),q=u(4),M=u(9),N=u(8),U=u(27),V=u(5),X=u(20),B=u(44),T=u(21),O=u(11),D=c.X({encapsulation:2,styles:[],data:{}}),E=c.V("page-speech-modal",_,function(l){return c._22(0,[(l()(),c.Z(0,0,null,null,1,"page-speech-modal",[],null,null,null,r,D)),c.Y(1,49152,null,0,_,[X.a,m.a,O.a,V.a,N.a,h.a,p.a,q.a,d.a,c.g],null,null)],null,null)},{},{},[]),G=u(18),J=u(131),W=u(38);u.d(n,"SpeechModalPageModuleNgFactory",function(){return H});var H=c.W(b,[],function(l){return c._7([c._8(512,c.i,c.S,[[8,[R.a,P.a,Z.a,I.a,C.a,y.a,k.a,Y.a,w.a,L,E]],[3,c.i],c.s]),c._8(4608,x.l,x.k,[c.r,[2,x.t]]),c._8(4608,G.o,G.o,[]),c._8(4608,G.d,G.d,[]),c._8(512,x.b,x.b,[]),c._8(512,G.m,G.m,[]),c._8(512,G.e,G.e,[]),c._8(512,G.l,G.l,[]),c._8(512,J.a,J.a,[]),c._8(512,J.b,J.b,[]),c._8(512,v,v,[]),c._8(512,b,b,[]),c._8(256,W.a,_,[])])})},267:function(l,n,u){"use strict";function t(l){return e._22(2,[e._18(402653184,1,{_fixedContent:0}),e._18(402653184,2,{_scrollContent:0}),(l()(),e.Z(2,0,[[1,0],["fixedContent",1]],null,1,"div",[["class","fixed-content"]],null,null,null,null,null)),e._10(null,0),(l()(),e.Z(4,0,[[2,0],["scrollContent",1]],null,1,"div",[["class","scroll-content"]],null,null,null,null,null)),e._10(null,1),e._10(null,2)],null,null)}u.d(n,"a",function(){return s}),n.b=t;var e=u(0),s=(u(1),u(4),u(9),u(27),u(5),u(20),e.X({encapsulation:2,styles:[],data:{}}))}});