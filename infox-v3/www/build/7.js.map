{"version":3,"sources":["../../src/pages/modals/search-place/search-place.module.ts","../../src/pages/modals/search-place/search-place.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {SearchPlacePage} from './search-place';\n\n@NgModule({\n    declarations: [\n        SearchPlacePage,\n    ],\n    imports: [\n        IonicPageModule.forChild(SearchPlacePage),\n    ],\n    exports: [\n        SearchPlacePage\n    ]\n})\nexport class SearchPlacePageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/search-place/search-place.module.ts","import {Component, ViewChild} from '@angular/core';\nimport {IonicPage, ViewController, NavController, NavParams, App, Searchbar} from 'ionic-angular';\nimport {AppService} from '../../../services/services';\nimport {General} from '../../../general/general';\nimport {GlobalVariables} from '../../../general/global-variables';\nimport {TabsPage} from \"../../tabs/tabs\";\n@IonicPage()\n@Component({\n    selector: 'page-search-place',\n    templateUrl: 'search-place.html',\n})\nexport class SearchPlacePage {\n\n    @ViewChild('searchbar') searchbar: Searchbar;\n    items = [];\n    didSearch: Boolean = false;\n    errorMessage: Boolean = false;\n    recentSearch: Boolean = false;\n    samePage: Boolean;\n    placeholder;\n\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public app: App,\n        public viewctrl: ViewController,\n        public globalVariables: GlobalVariables,\n        public general: General,\n        public appService: AppService\n    ) {\n\n    }\n\n    ionViewDidLoad() {\n        this.samePage = this.navParams.get('samePage') || false;\n        this.placeholder = this.navParams.get('placeholder') || 'Buscar...';\n\n        if (this.placeholder === 'Buscar...') {\n            if (this.globalVariables.recentSearchResults.length > 0) {\n                this.items = this.globalVariables.recentSearchResults;\n                this.recentSearch = true;\n            }\n        } else {\n            if (this.globalVariables.recentNearbySearchResults.length > 0) {\n                this.items = this.globalVariables.recentNearbySearchResults;\n                this.recentSearch = true;\n            }\n        }\n\n\n        setTimeout(() => {\n            this.searchbar.setFocus();\n        }, 500)\n    }\n\n    closeModal() {\n        this.viewctrl.dismiss();\n    }\n\n    searchResult(ev) {\n        if (!this.globalVariables.isConnected) {\n            this.general.showNetworkConnectionAlert();\n            this.closeModal();\n            return;\n        }\n\n        this.recentSearch = false;\n        let query = ev.target.value;\n        if (query !== '' && query !== undefined) {\n            query = this.general.removeAccents(query);\n            this.appService.autocompleteSearch(query).subscribe((response => {\n                this.items = response.json().data;\n                this.didSearch = true;\n                this.errorMessage = false;\n            }), ((error) => {\n                this.errorMessage = true;\n            }));\n        }\n    }\n\n    viewPlacesList(query) {\n        if (this.placeholder === 'Buscar...') {\n            this.globalVariables.recentSearchResults = this.items;\n            this.globalVariables.recentSearch = query;\n        } else {\n            this.globalVariables.recentNearbySearchResults = this.items;\n            this.globalVariables.recentNearbySearch = query;\n        }\n\n\n        if (this.samePage) {\n            this.viewctrl.dismiss(query);\n        } else {\n            this.closeModal();\n            this.navCtrl.push(TabsPage, {search: query, tabIndex: 2})\n        }\n\n    }\n\n    searchOnEnter(keyboardCode, searchQuery) {\n        if (keyboardCode === 13) {\n            this.viewPlacesList(searchQuery);\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/modals/search-place/search-place.ts"],"sourceRoot":""}